"use strict";!function(t){t.fn.circliful=function(i,e){var a=t.extend({startdegree:0,fgcolor:"#556b2f",bgcolor:"#eee",fill:!1,width:15,dimension:200,fontsize:15,percent:50,animationstep:1,iconsize:"20px",iconcolor:"#999",border:"default",complete:null,bordersize:10,delay:0,linecap:"butt"},i);return this.each(function(){function e(i,e,a){t("<span></span>").appendTo(i).addClass(e).html(l).prepend(f).css({"line-height":a+"px","font-size":p.fontsize+"px"})}function n(i,e){t("<span></span>").appendTo(i).addClass("circle-info-half").css("line-height",p.dimension*e+"px").text(c)}function o(i){t.each(h,function(e,n){void 0!=i.data(n)?p[n]=i.data(n):p[n]=t(a).attr(n),"fill"==n&&void 0!=i.data("fill")&&(v=!0)})}function d(){y.clearRect(0,0,b.width,b.height),y.beginPath(),y.arc(M,w,C,F,k,!1),y.lineWidth=p.bordersize+1,y.strokeStyle=p.bgcolor,y.stroke(),p.fill&&(y.fillStyle=p.fill,y.fill())}function s(e){d(),y.beginPath(),y.arc(M,w,C,-R+A,W*e-R+A,!1),"outline"==p.border?y.lineWidth=p.width+p.bordersize:"inline"==p.border&&(y.lineWidth=p.width-p.bordersize),y.lineCap=p.linecap,y.strokeStyle=p.fgcolor,y.stroke(),m>T&&(T+=S,requestAnimationFrame(function(){s(Math.min(T,m)/100)},u)),T==m&&q&&"undefined"!=typeof i&&t.isFunction(i.complete)&&(i.complete(),q=!1)}var r,l,c,h=["fgcolor","bgcolor","fill","width","dimension","fontsize","animationstep","endPercent","icon","iconcolor","iconsize","border","startdegree","bordersize","delay","linecap"],p={},f="",u=t(this),v=!1;u.addClass("circliful"),o(u);var m=p.endPercent||0;if(void 0!=u.data("text")&&(l=u.data("text"),void 0!=u.data("icon")&&(f=t("<i></i>").addClass("fa "+t(this).data("icon")).css({color:p.iconcolor,"font-size":p.iconsize})),void 0!=u.data("type")?(j=t(this).data("type"),"half"==j?e(u,"circle-text-half",p.dimension/1.45):e(u,"circle-text",p.dimension)):e(u,"circle-text",p.dimension)),void 0!=t(this).data("total")&&void 0!=t(this).data("part")){var g=t(this).data("total")/100;r=(t(this).data("part")/g/100).toFixed(3),m=(t(this).data("part")/g).toFixed(3)}else void 0!=t(this).data("percent")?(r=t(this).data("percent")/100,m=t(this).data("percent")):r=a.percent/100;void 0!=t(this).data("info")&&(c=t(this).data("info"),void 0!=t(this).data("type")?(j=t(this).data("type"),"half"==j?n(u,.9):n(u,1.25)):n(u,1.25)),t(this).width(p.dimension+"px");var x=p.dimension,b=t("<canvas></canvas>").attr({width:x,height:x}).appendTo(t(this)).get(0),y=b.getContext("2d"),P=window.devicePixelRatio;if(P){var z=t(b);z.css("width",x),z.css("height",x),z.attr("width",x*P),z.attr("height",x*P),y.scale(P,P)}var M=(t(b).parent(),x/2),w=x/2,I=360*p.percent,C=(I*(Math.PI/180),x/2.5),k=2.3*Math.PI,F=0,T=0===p.animationstep?m:0,S=Math.max(p.animationstep,0),W=2*Math.PI,R=Math.PI/2,j="",q=!0,A=p.startdegree/180*Math.PI,Q=p.delay;void 0!=t(this).data("type")&&(j=t(this).data("type"),"half"==j&&(k=2*Math.PI,F=3.13,W=Math.PI,R=Math.PI/.996)),void 0!=t(this).data("type")&&(j=t(this).data("type"),"angle"==j&&(k=2.25*Math.PI,F=2.4,W=1.53+Math.PI,R=.73+Math.PI/.996)),setTimeout(function(){s(T/100)},Q)})}}(jQuery);